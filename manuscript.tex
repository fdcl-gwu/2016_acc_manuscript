%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%2345678901234567890123456789012345678901234567890123456789012345678901234567890
%        1         2         3         4         5         6         7         8

\documentclass[letterpaper, 10 pt, conference]{ieeeconf}  % Comment this line out if you need a4paper
%\documentclass[a4paper, 10pt, conference]{ieeeconf}      % Use this line for a4 paper
\IEEEoverridecommandlockouts                              % This command is only needed if 
                                                          % you want to use the \thanks command
\overrideIEEEmargins                                      % Needed to meet printer requirements.

% See the \addtolength command later in the file to balance the column lengths
% on the last page of the document

\usepackage{ieee_packages}

\newcommand{\EditTL}[1]{{\color{red}\protect #1}}
%\renewcommand{\EditTL}[1]{{\protect #1}}

\newtheorem{definition}{Definition}
\newtheorem{lem}{Lemma}
\newtheorem{prop}{Proposition}
\newtheorem{cor}{Corollary}
\newtheorem{remark}{Remark}

\title{\LARGE \bf
Constrained Attitude Control
}


\title{\LARGE \bf
Geometric Adaptive Control of Attitude Dynamics on $\SO$\\ with State Inequality Constraints}

\author{Shankar Kulumani, Chris Poole, and Taeyoung Lee
\thanks{Shankar Kulumani, Chris Poole, Taeyoung Lee, Mechanical and Aerospace Engineering, George Washington University, Washington DC 20052 {\tt \{skulumani,poolec,tylee\}@gwu.edu}}
\thanks{This research has been supported in part by NSF under the grants CMMI-1243000, CMMI-1335008, and CNS-1337722.}
}

\begin{document}

\maketitle
\thispagestyle{empty}
\pagestyle{empty}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{abstract}

200-300 summary of the paper

general topic area

new developments/contributions of the paper

relation/benefits over previous work

summary of the results and contributions

Awesome abstract

\end{abstract}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
Many researchers have focused on the study of the attitude dynamics of a rigid body~\cite{hughes2004,wertz1978}.
Rigid body attitude control arises for aerospace vehicles, ground and underwater vehicles, and robotic systems.
One distinctive feature of the attitude dynamics is that it evolves on a nonlinear manifold.
The three-dimensional special orthogonal group is the set of \( 3 \times 3 \) orthogonal matrices whose determinant is one.
This configuration space is not Euclidean and yields unique stability properties which are not observable on a linear space.
For example, it is impossible to achieve global attitude stabilization using continuous time-invariant feedback~\cite{bhat2000}.
Attitude control is typically studied using a variety of attitude parameterizations, such as Euler angles or quaternions~\cite{shuster1993}.

% topological obstruction - smooth control system can only achieve almost global asymptotic stability

% discuss issues with parameterizations
All attitude parameterizations fail to represent the nonlinear configuration space both globally and uniquely~\cite{chaturvedi2011a}.
For example, minimal attitude representations, such as Euler angle sequences or modified Rodriguez parameters, suffer from singularities.
These attitude representations are not suitable for large angular slews.
In order to avoid singularities the designer must carefully switch the chosen Euler angle sequence based on the operating region.
Another option is to artificially limit the operating region of the rigid body.
This ensures the system operates in a region free from singularities but limits the performance capabilities and ability to perform arbitrarily large angular maneuvers.
Quaternions do not have singularities but they double cover the special orthogonal group.
As a result, any physical attitude is represented by a pair of antipodal quaternions on the three-sphere.
An immediate implication of this ambiguity is that closed-loop stability properties derived using quaternion may not hold for the physical rigid body evolving on the special orthogonal group.
During implementation, the design must carefully resolve this non-unique representation in quaternion based attitude control system to avoid undesirable unwinding behavior~\cite{bhat2000}.
For certain initial conditions, where the rigid body starts closed to the desired attitude, the system unnecessarily rotates through a large angle even while the initial error is small.

% introduce concept of state inequality constraints and how it creates a nonconvex region 
% mention applicability of this for spacecraft maneuvers, spherical air bearing testing, hardware limitations
Many physical rigid body systems must perform large angular slews in the presence of state constraints.
For example, autonomous spacecraft or aerial systems are typically equipped with sensitive optical payloads, such as infrared or interferometric sensors.
These systems require retargeting while avoiding direct exposure to sunlight or other bright objects.
Determining a satisfactory attitude control maneuver in the presence of state constraints is a challenging task.
The removal of constrained regions from the rotational configuration space results in a \textit{nonconvex} region.
The attitude control problem in the absence of constraints has been extensively studied~\cite{sanyal2008,lee2010,lee2011a}.
However, the attitude control problem in the presence of constraints has received much less attention.

% discuss how previous papers (mcinnes and lee/meshabi) have short comings
Several approaches have been developed to treat the attitude control problem in the presence of constraints.
A geometric approach is used in~\cite{hablani1999} to determine feasible attitude trajectories prior to implementation.
Typically, an optimal or easily implementable on-board control scheme for attitude maneuvers is considered without state constraints.
The algorithm then seeks an intermediate point such that the control scheme can be applied for each segment without violation of the constraints.
While the geometric method is conceptually simple it is difficult to generalize for an arbitrary amount of constraints.
In addition, this geometric type of approach is only applicable to problems where the selection of intermediate points are computationally feasible

The approach in~\cite{frazzoli2001} involves the use of randomized motion planning algorithms to solve the constrained attitude control problem.
A graph is generated consisting of vertices from an initial attitude to a desired attitude. 
A random iterative search is conducted to determine a path through the graph such that a given cost functional is minimized.
Once an appropriate path is determined an appropriate control is implemented to perform the attitude maneuver.
The random search approach can only stochastically guarantee attitude convergence as it can be shown that as the number of vertices in the graph grow, the probability of non convergence goes to zero.
However, the computational demand grows as the size of the graph is increased. 
As a result, random search approaches are ill-suited to on-board implementation or in scenarios that require agile maneuvers.

In this work, we develop a geometric adaptive controller on \SO to reorient a rigid body in the presence of state inequality constraints.
We apply a potential function based approach developed directly on the nonlinear manifold \SO.
Geometric control is concerned with the development of control systems for dynamic systems that evolve on nonlinear manifolds.
Artificial potential functions have previously been applied to the attitude control problem~\cite{lee2011b,mcinnes1994}.
These approaches have used attitude parameterizations that give rise to singularities and ambiguities.
By characterizing the intrinsic geometric properties of \SO, we completely avoid issues associated with local parameterizations of the configuration manifold.
In this paper, a Lyapunov analysis is presented to guarantee stability in the presence of state constraints
In addition, we formulate an adaptive update law to enable attitude convergence in the presence of disturbances.
These results are demonstrated via numerical examples and experimental results on a robotic aerial vehicle.

\section{Problem Formulation}

Describe attitude dynamics EOMS.
Explain attitude representation using \SO.
Hat and vee map properties used in developments

\subsection{Attitude Dynamics}
Consider the attitude dynamics of a rigid body. Define an inertial reference frame and a body-fixed frame. The configuration manifold of the attitude dynamics is the special orthogonal group:
\begin{align*}
\SO = \{R\in\Re^{3\times 3}\,|\, R^TR=I,\;\mathrm{det}[R]=1\},
\end{align*}
where a rotation matrix $R\in\SO$ represents the transformation of the representation of a vector from the body-fixed frame to the inertial reference frame. The equations of motion are given by
\begin{gather}
J\dot\Omega + \Omega\times J\Omega = u+W(R,\Omega)\Delta,\label{eqn:Wdot}\\
\dot R = R\hat\Omega,\label{eqn:Rdot}
\end{gather}
where $J\in\Re^{3\times 3}$ is the inertia matrix, and $\Omega\in\Re^3$ is the angular velocity represented with respect to the body-fixed frame. The control moment is denoted by $u\in\Re^3$, and it is expressed with respect to the body-fixed frame. It is assumed that the external disturbance is expressed by $W(R,\Omega)\Delta$, where $W(R,\Omega):\SO\times\Re^3\rightarrow \Re^{3\times p}$ is a known function of the attitude and the angular velocity, and $\Delta\in\Re^p$ is an unknown, but fixed uncertain parameter.

At \refeqn{Rdot}, the \textit{hat} map $\wedge :\Re^{3}\rightarrow\so$ represents the transformation of a vector in $\Re^3$ to a $3\times 3$ skew-symmetric matrix such that $\hat x y = x\times y$ for any $x,y\in\Re^3$~\cite{BulLew05}. More explicitly, 
\begin{align*}
\hat x = \begin{bmatrix} 0 & -x_3 & x_2 \\ x_3 & 0 & -x_1 \\ -x_2 & x_1 & 0\end{bmatrix},
\end{align*}
for $x=[x_1,x_2,x_3]^T\in\Re^3$. 
The inverse of the hat map is denoted by the \textit{vee} map $\vee:\so\rightarrow\Re^3$. Several properties of the hat map are summarized as
\begin{gather}
%    \hat x y = x\times y = - y\times x = - \hat y x,\\
    x\cdot \hat y z = y\cdot \hat z x,\quad \hat x\hat y z = (x\cdot z) y - (x\cdot y ) z\label{eqn:STP},\\
%    \hat x\hat y z = (x\cdot z) y - (x\cdot y ) z,\label{eqn:VTP}\\
%    C^TC=-C^T\hat e_3^2 C = I_2
%    \hat x^T \hat x = (x^T x) I - x x^T,\\
%    \hat x \hat y \hat x=-(y^Tx)\hat x,\\
%    -\frac{1}{2}\tr{\hat x \hat y} = x^T y,\\
    \widehat{x\times y} = \hat x \hat y -\hat y \hat x = yx^T-xy^T,\label{eqn:hatxy}\\
    %\tr{\hat x A}=
    \tr{A\hat x }=\frac{1}{2}\tr{\hat x (A-A^T)}=-x^T (A-A^T)^\vee,\label{eqn:hat1}\\
%    \widehat{Ax} = \hat x \parenth{\frac{1}{2}\tr{A}I-A} + \parenth{\frac{1}{2}\tr{A}I-A}^T \hat x,\\
    \hat x  A+A^T\hat x=(\braces{\tr{A}I_{3\times 3}-A}x)^{\wedge},\label{eqn:xAAx}\\
R\hat x R^T = (Rx)^\wedge,\quad 
R(x\times y) = Rx\times Ry\label{eqn:RxR}
%,\label{eqn:Rxy}
\end{gather}
for any $x,y,z\in\Re^3$, $A\in\Re^{3\times 3}$ and $R\in\SO$. Throughout this paper, the dot product of two vectors is denoted by $x\cdot y = x^T y$ for any $x,y\in\Re^n$.

%and the maximum eigenvalue and the minimum eigenvalue of $J$ are denoted by $\lambda_M$ and $\lambda_m$, respectively. 

\subsection{Inequality Constraint}

Describe inequality constraints. 

Define the desired attitude, and assume that it is sufficiently far from the boundary of the constraint. 

Describe the control objective. 


\section{Attitude Control on $\SO$ with Inequality Constraints}


\subsection{Attitude Control}

Configuration error function with attractive and repulsive terms
Define the various attitude error functions and where they are derived from
summarize some of the properties of the attractive error function from previous papers
Show the development of the configuration error terms and equilibrium structure


Derive error dynamics
Introduce control input function and show that it is stable without any disturbance


\subsection{Adaptive Control}

Add the disturbance term and introduce adaptive update law
Mention how for a fixed disturbance this is integral control 
Go through the various developments of proving the disturbance case is stable for correct choice of gains

\section{Numerical Examples}
Parameters used in the simulation

Show stabilization with and without repulsive term
Show stabilization with and without adaptive update law

Plot of responses

Get the configuration error function mapped onto the attitude sphere

Show rotation animation of spacecraft avoiding constrained regions

\section{Experiments}

Discuss experimental setup of the hexrotor on spherical joint

Describe aim of experiment. 
Demonstrate that hexrotor fixed sensor can stabilize to desired attitude while avoiding an obstacle.
Mount a sphere at an appropriate distance such that the subtended angle is equal to the cone constraint

Show plots of response with and without avoidance term
Response should be similar to numerical simulation

\section{Conclusions}

Discuss how this method allows for on board implementation of attitude avoidance during reorientations

Improves upon previous work by extending to the full nonlinear manifold representation and avoids quaternion ambiguities

Proven stable and validated via hardware experiments

\addtolength{\textheight}{-12cm}   % This command serves to balance the column lengths
                                  % on the last page of the document manually. It shortens
                                  % the textheight of the last page by a suitable amount.
                                  % This command does not take effect until the next page
                                  % so it should come on the page before the last. Make
                                  % sure that you do not shorten the textheight too much.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\subsection{Proof of}

Detail on finding bounds of \( \norm{\dot{e}_R} \)

Stability proofs

Further discussion on equilibrium positions and structure of configuration error function


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\bibliography{BibMaster,library}
\bibliographystyle{IEEEtran}

\end{document}
